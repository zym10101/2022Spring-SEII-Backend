# ERP灯具进销存系统用例文档

### 软工二大作业第15组

---

变更记录
---

| 变更人 | 变更时间 | 变更内容                                                     | 版本号 |
| ------ | -------- | ------------------------------------------------------------ | :----: |
| 张月明 | 2022.7.3 | 增加查看经营历程表，查看经营情况表，制定促销策略用例         |  v1.0  |
| 张云菲 | 2022.7.4 | 用例列表中删除期初建账，增加用例图；增加账户管理，制定收款单，制定付款单，制定工资单，查看销售明细表用例 |  v2.0  |
| 张月明 | 2022.7.4 | 增加制定年终奖用例                                           |  v3.0  |
| 张月明 | 2022.7.5 | 修改制定促销策略用例                                         |  v3.1  |
| 孙宇帆 | 2022.7.8 | 增加员工管理，员工打卡，薪酬规则制定用例                     |  v4.0  |
| 张云菲 | 2022.7.9 | 增加目录                                                     |  v4.1  |

## 目录
<!-- TOC -->

- [1 引言](#1-引言)
  - [1.1 目的](#11-目的)
  - [1.2 阅读说明](#12-阅读说明)
  - [1.3 参考文献](#13-参考文献)
- [2 用例概述](#2-用例概述)
  - [2.1 用例列表](#21-用例列表)
  - [2.2 用例图](#22-用例图)
  - [2.3 用例类图](#23-用例类图)
- [3 详细用例描述](#3-详细用例描述)
  - [3.1 账户管理](#31-账户管理)
  - [3.2 制定收款单](#32-制定收款单)
  - [3.3 制定付款单](#33-制定付款单)
  - [3.4 制定工资单](#34-制定工资单)
  - [3.5 查看销售明细表](#35-查看销售明细表)
  - [3.6 查看经营历程表](#36-查看经营历程表)
  - [3.7 查看经营情况表](#37-查看经营情况表)
  - [3.8 员工管理](#38-员工管理)
  - [3.9 员工打卡](#39-员工打卡)
  - [3.10 薪酬规则制定](#310-薪酬规则制定)
  - [3.11 制定促销策略](#311-制定促销策略)
  - [3.12 制定年终奖](#312-制定年终奖)

<!-- /TOC -->
1 引言
---

### 1.1 目的 ###

本文档描述了ERP灯具进销存系统的用户需求。

### 1.2 阅读说明 ###

用例描述的约定为必须包含用例ID、用例、创建日期、最后一次更新日期、参与者、触发条件、前置条件、后置条件、优先级、正常流程、扩展流程等特殊需求。其中流程要完整有序地描述该用例中使用者与系统的交互。

### 1.3 参考文献 ###

《软件工程与计算（卷二）——软件开发的技术基础》 丁二玉、刘钦编著

2 用例概述
---

### 2.1 用例列表

| 参与者       | 用例                                                         |
| :----------- | :----------------------------------------------------------- |
| 财务人员     | 1.账户管理<br/>2.制定收款单<br/>3.制定付款单<br/>4.制定工资单<br/>5.查看销售明细表<br/>6.查看经营历程表<br/>7.查看经营情况表</br> |
| 人力资源人员 | 8.员工管理<br/>9.员工打卡<br/>10.薪酬规则制定</br>           |
| 总经理       | 11.制定促销策略<br/>12.制定年终奖<br/>13.查看销售明细表<br/>14.查看经营历程表<br/>15.查看经营情况表</br> |

### 2.2 用例图
![](https://seec-homework.oss-cn-shanghai.aliyuncs.com/201250022_lab7_uc.png)

### 2.3 用例类图
![](https://pic.imgdb.cn/item/62ca3495f54cd3f937b746e8.jpg)

3 详细用例描述
---

### 3.1 账户管理

| ID       | 1        | 名称             | 账户管理 |
| :------- | :------- | :--------------- | :------- |
| 创建者   | 张云菲   | 最后一次更新者   | 张云菲   |
| 创建日期 | 2022.7.4 | 最后一次更新日期 | 2022.7.4 |

| 参与者   | 财务人员，最高权限，目标是高效地管理账户信息                 |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 需要对公司账户进行信息管理                                   |
| 前置条件 | 财务人员必须已经被识别和授权                                 |
| 后置条件 | 更新账户信息                                                 |
| 优先级   | 低                                                           |
| 正常流程 | 1.1 增加账户<br/>1 财务人员输入账户名称和余额<br/>2 系统增加一个账户<br/>1.2 删除账户<br/>1 财务人员选择一条账户信息<br/>2 系统删除该信息<br/>1.3 修改账户名称<br/>1 财务人员选择一条账户信息修改，并输入新的账户名称<br/>2 系统修改该账户名称<br/>1.4 模糊查询账户名称<br/>1 财务人员输入模糊查询内容<br/>2 系统根据查询内容查找符合条件的账户信息并显示</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 1 账户余额不可修改                                           |

### 3.2 制定收款单

| ID       | 2        | 名称             | 制定收款单 |
| :------- | :------- | :--------------- | :--------- |
| 创建者   | 张云菲   | 最后一次更新者   | 张云菲     |
| 创建日期 | 2022.7.4 | 最后一次更新日期 | 2022.7.4   |

| 参与者   | 财务人员，目标是高效地制定收款单                             |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 销售或进货退货处理                                           |
| 前置条件 | 财务人员必须已经被识别和授权                                 |
| 后置条件 | 更新账户余额                                                 |
| 优先级   | 中                                                           |
| 正常流程 | 1.1 收款单<br/>1 向供货商进货退货或向销售商销售<br/>2 财务人员填写收款单，包括客户id和转账列表，其中转账列表包括银行账户，转账金额，备注，并交给总经理审批<br/>3 审批通过后，系统自动从账户余额中增加对应金额</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 无                                                           |

### 3.3 制定付款单

| ID       | 3        | 名称             | 制定付款单 |
| :------- | :------- | :--------------- | :--------- |
| 创建者   | 张云菲   | 最后一次更新者   | 张云菲     |
| 创建日期 | 2022.7.4 | 最后一次更新日期 | 2022.7.4   |

| 参与者   | 财务人员，目标是高效地制定付款单                             |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 进货或销售退货处理                                           |
| 前置条件 | 财务人员必须已经被识别和授权                                 |
| 后置条件 | 更新账户余额                                                 |
| 优先级   | 中                                                           |
| 正常流程 | 1.1 付款单<br/>1 向供货商进货或被销售商销售退货<br/>2 财务人员填写付款单，包括客户id和转账列表，其中转账列表包括银行账户，转账金额，备注，并交给总经理审批<br/>3 审批通过后，系统自动从账户余额中扣除对应金额</br> |
| 扩展流程 | 1.1-2a 应付总额大于余额<br/>    2 系统提示余额不足</br>      |
| 特殊需求 | 无                                                           |

### 3.4 制定工资单

| ID       | 4        | 名称             | 制定工资单 |
| :------- | :------- | :--------------- | :--------- |
| 创建者   | 张云菲   | 最后一次更新者   | 张云菲     |
| 创建日期 | 2022.7.4 | 最后一次更新日期 | 2022.7.4   |

| 参与者   | 财务人员，目标是高效地制定工资单                             |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 到每月给员工发放工资处理的时间                               |
| 前置条件 | 财务人员必须已经被识别和授权                                 |
| 后置条件 | 更新账户余额                                                 |
| 优先级   | 中                                                           |
| 正常流程 | 1.1 工资单<br/>1 向员工发放工资<br/>2 财务人员填写工资单，包括员工id<br/>3 审批通过后，系统自动从账户余额中扣除对应金额</br> |
| 扩展流程 | 1.1-2a 应付总额大于余额<br/>    2 系统提示余额不足</br>      |
| 特殊需求 | 无                                                           |

### 3.5 查看销售明细表

| ID       | 5        | 名称             | 查看销售明细表 |
| :------- | :------- | :--------------- | :------------- |
| 创建者   | 张云菲   | 最后一次更新者   | 张云菲         |
| 创建日期 | 2022.7.4 | 最后一次更新日期 | 2022.7.4       |

| 参与者   | 财务人员，总经理，目标是查看一段时间里公司的销售明细         |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 无                                                           |
| 前置条件 | 财务人员，总经理必须已经被识别和授权                         |
| 后置条件 | 无                                                           |
| 优先级   | 低                                                           |
| 正常流程 | 1.1 查看销售明细表<br/>1 财务人员或总经理选择筛选条件（时间区间，商品名，客户，业务员）。<br/>2 系统显示出所有符合条件的单据</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 销售明细表可以导出Excel                                      |

### 3.6 查看经营历程表 

| ID       | 6        | 名称             | 查看经营历程表 |
| :------- | :------- | :--------------- | :------------- |
| 创建者   | 张月明   | 最后一次更新者   | 张月明         |
| 创建日期 | 2022.7.3 | 最后一次更新日期 | 2022.7.3       |

| 参与者   | 财务人员，总经理，目标是查看一段时间里公司的经营历程         |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 无                                                           |
| 前置条件 | 财务人员，总经理必须已经被识别和授权                         |
| 后置条件 | 无                                                           |
| 优先级   | 低                                                           |
| 正常流程 | 1.1 查看经营历程表<br/>1 财务人员或总经理选择筛选条件（单据类型，时间区间）。<br/>2 系统显示出所有符合条件的单据<br/>3 财务人员或总经理可继续选择筛选条件（客户，业务员，仓库）。<br/>4 系统显示出所有符合条件的单据</br> |
| 扩展流程 | 仅财务人员可以进行以下操作<br/>1.2 进行红冲操作<br/>1 系统生成同样但仅将数量取负数的单据入账<br/>1.3 进行红冲并复制操作<br/>1 系统新建一张以之前单子为模板的草稿单<br/>2 财务人员编辑后保存</br> |
| 特殊需求 | 经营历程表可以导出Excel                                      |

### 3.7 查看经营情况表

| ID       | 7        | 名称             | 查看经营情况表 |
| :------- | :------- | :--------------- | :------------- |
| 创建者   | 张月明   | 最后一次更新者   | 张月明         |
| 创建日期 | 2022.7.3 | 最后一次更新日期 | 2022.7.3       |

| 参与者   | 财务人员，总经理，目标是查看一段时间里公司的经营情况（盈亏，利润等）</br> |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 财务人员或者总经理需要了解公司的经营情况                     |
| 前置条件 | 财务人员，总经理必须已经被识别和授权                         |
| 后置条件 | 无                                                           |
| 优先级   | 低                                                           |
| 正常流程 | 查看经营情况表 <br/>1 财务人员或总经理选择时间区间<br/>2 系统显示各单据明细信息，包括收入类明细（销售收入、商品类收入），支出类明细（销售成本、商品类支出、人力成本）。<br/>3 财务人员或总经理确认计算总额<br/>4 系统显示收入类总额，支出类总额，利润。</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 1.经营情况表可以导出Excel<br/>2.收入类显示折让后总收入，并显示折让了多少</br> |

### 3.8 员工管理

| ID       | 8        | 名称             | 员工管理 |
| :------- | :------- | :--------------- | :------- |
| 创建者   | 孙宇帆   | 最后一次更新者   | 孙宇帆   |
| 创建日期 | 2022.7.8 | 最后一次更新日期 | 2022.7.8 |

| 参与者   | 人力资源人员                                                 |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 新员工入职、员工信息需要修改，老员工离职                     |
| 前置条件 | 人力资源人员必须已经被识别和授权                             |
| 后置条件 | 员工的信息在系统数据库中被新增、修改或删除                   |
| 优先级   | 中                                                           |
| 正常流程 | 1.1 增加员工账户<br/>1 人力资源人员输入员工编号等基本信息、职务等岗位信息<br/>2 系统增加一个员工账户<br/>1.2 删除账户<br/>1 人力资源人员输入需要删除的员工编号<br/>2 系统删除该员工的信息记录<br/>1.3 修改员工信息<br/>1 人力资源人员选择一条账户信息修改，并输入需要更新的内容<br/>2 系统修改该账户信息<br/>1.4 查询员工的基本信息<br/>1 人力资源人员输入员工编号<br/>2 系统根据查询内容查找符合条件的员工信息并显示</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 可以实现批量查找所有员工的信息                               |

### 3.9 员工打卡

| ID       | 9        | 名称             | 员工打卡 |
| :------- | :------- | :--------------- | :------- |
| 创建者   | 孙宇帆   | 最后一次更新者   | 孙宇帆   |
| 创建日期 | 2022.7.8 | 最后一次更新日期 | 2022.7.8 |

| 参与者   | 人力资源人员                                                 |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 人力资源人员获得了当天的员工打卡记录                         |
| 前置条件 | 人力资源人员必须已经被识别和授权                             |
| 后置条件 | 员工的打卡记录被存储在系统的数据库中                         |
| 优先级   | 中                                                           |
| 正常流程 | 1.1 记录员工打卡信息<br/>1 人力资源人员输入员工编号和打卡日期<br/>2 系统增加一条员工考勤记录<br/>1.2 查询某员工打卡信息<br/>1 人力资源人员输入需要查询的员工编号<br/>2 系统查找符合条件的员工打卡记录并显示<br/>1.3 修改员工基本工资<br/>1 人力资源人员选择缺勤的员工编号<br/>2 系统将该员工的基本工资减少1/30<br/>1.4 查询某个时间段所有员工的打卡记录<br/>1 人力资源人员输入开始时间和结束时间<br/>2 系统查找符合条件的员工打卡记录并显示</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 无                                                           |

### 3.10 薪酬规则制定

| ID       | 10       | 名称             | 薪酬规则制定 |
| :------- | :------- | :--------------- | :----------- |
| 创建者   | 孙宇帆   | 最后一次更新者   | 孙宇帆       |
| 创建日期 | 2022.7.8 | 最后一次更新日期 | 2022.7.8     |

| 参与者   | 人力资源人员                                                 |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 需要计算薪酬或修改薪酬计算参数                               |
| 前置条件 | 人力资源人员必须已经被识别和授权                             |
| 后置条件 | 员工的当月薪资结果被存储在系统的数据库中                     |
| 优先级   | 中                                                           |
| 正常流程 | 1.1薪酬参数的设置<br/>1人力资源人员输入员工编号和相关参数<br/>2系统根据员工岗位将相关参数插入相应的数据库表中<br/>1.2薪酬结果计算<br/>1 人力资源人员输入员工编号<br/>2 系统根据岗位等信息通过相应的薪资计算方法得出结果<br/>1.3 修改薪酬计算参数<br/>1 人力资源人员输入需要查询的员工编号及需要修改的参数<br/>2 系统查找符合条件的员工，修改薪酬参数并更新当月薪资<br/ |
| 扩展流程 | 无                                                           |
| 特殊需求 | 无                                                           |

### 3.11 制定促销策略 ###

| ID       | 11       | 名称             | 制定促销策略 |
| :------- | :------- | :--------------- | :----------- |
| 创建者   | 张月明   | 最后一次更新者   | 张月明       |
| 创建日期 | 2022.7.3 | 最后一次更新日期 | 2022.7.3     |

| 参与者   | 总经理，目标是制定促销策略，包括用户等级促销策略、总价促销策略和特价包   |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 无                                                           |
| 前置条件 | 总经理必须已经被识别和授权                                   |
| 后置条件 | 所有赠品条件触发后，系统会自动建立库存赠送单                 |
| 优先级   | 中                                                           |
| 正常流程 | 用户等级促销策略<br/>1.1修改用户等级促销策略<br/>&ensp;&ensp;&ensp;1.总经理选择一个用户等级对应的促销策略<br/>      2.系统显示选中的促销策略的详细内容<br/>      3.总经理更改促销策略的内容<br/>&ensp;&ensp;&ensp;4.系统保存修改的促销策略<br/>总价促销策略<br/>1.2 增加总价促销策略<br/>&ensp;&ensp;&ensp;1.系统显示空的促销策略单<br/>&ensp;&ensp;&ensp;2.总经理填写促销策略的内容<br/>&ensp;&ensp;&ensp;3.系统保存增加的促销策略<br/>1.3 修改总价促销策略<br/>&ensp;&ensp;&ensp;1.总经理选择一个最低总价对应的促销策略<br/>&ensp;&ensp;&ensp;2.系统显示选中的促销策略的详细内容<br/>      3.总经理更改促销策略的内容<br/>&ensp;&ensp;&ensp;4.系统保存修改的促销策略<br/>1.4 删除促销策略<br/>&ensp;  &ensp;1.总经理选择一条已有的促销策略<br/>&ensp;&ensp;&ensp;2.系统删除选中的促销策略单<br/>特价包促销策略<br/>      1.总经理选择组合商品降价<br/>&ensp;&ensp;&ensp;2.系统保存修改的促销策略</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 所有的用户等级促销策略和总价促销策略都有起始时间和间隔时间 


### 3.12 制定年终奖 ###

| ID       | 12       | 名称             | 制定年终奖 |
| :------- | :------- | :--------------- | :----------- |
| 创建者   | 张月明   | 最后一次更新者   | 张月明       |
| 创建日期 | 2022.7.4 | 最后一次更新日期 | 2022.7.4     |

| 参与者   | 总经理，目标是给每个员工制定相应的年终奖奖金   |
| :------- | :----------------------------------------------------------- |
| 触发条件 | 无                                                           |
| 前置条件 | 总经理必须已经被识别和授权                                   |
| 后置条件 | 年终奖金额会被计入员工12月工资单                 |
| 优先级   | 低                                                           |
| 正常流程 | 制定年终奖<br/>1 总经理点击编辑按钮，填写年终奖金额并保存<br/>2.系统更新年终奖金额，并计入员工12月工资</br> |
| 扩展流程 | 无                                                           |
| 特殊需求 | 可以查看之前 11 个月的工资收入总和，避免陷入税务陷阱      |
